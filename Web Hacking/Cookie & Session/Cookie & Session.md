## 쿠기

Connectionless, Stateless 특성을 갖는 HTTP에서 상태를 유지하기 위해 쿠키(Cookie)가 탄생했습니다. 쿠키는 Key와 Value로 이뤄진 일종의 단위로, 서버가 클라이언트에게 쿠키를 발급하면, 클라이언트는 서버에 요청을 보낼 때마다 쿠키를 같이 전송합니다. 서버는 클라이언트의 요청에 포함된 쿠키를 확인해 클라이언트를 구분할 수 있습니다.

* Connectionless : 하나의 요청에 하나의 응답을 한 후 연결을 종료하는 것을 의미합니다.
* Stateless : 통신이 끝난 후 상태 정보를 저장하지 않는 것을 의미합니다.


<br>


### 용도

클라이언트의 정보 기록과 상태 정보를 표현하는 용도로 사용합니다.


<br>


### 정보 기록

웹 서버는 각 클라이언트의 팝업 옵션을 기억하기 위해 쿠키에 해당 정보를 기록하고, 쿠키를 통해 팝업 창 표시 여부를 판단합니다. 과거에는 클라이언트의 정보를 저장하기 위해 쿠키가 종종 사용됐습니다.


<br>


### 상태 정보

웹 서버에서는 수많은 클라이언트의 로그인 상태와 이용자를 구별해야 하는데, 이때 클라이언트를 식별할 수 있는 값을 쿠키에 저장해 사용합니다.



<br>


### 쿠키가 없는 통신

<img src="https://velog.velcdn.com/images/silvergun8291/post/eb67daaa-d268-4d9e-aed3-2804525003ab/image.png">


<br>


### 쿠기가 있는 통신

<img src="https://velog.velcdn.com/images/silvergun8291/post/ae238a2c-8ac7-4c27-9f72-1af7547a3ab8/image.png">


<br>


### 쿠기 변조

쿠키는 클라이언트의 브라우저에 저장되고 요청에 포함되는 정보이기 때문에, 쿠기 정보를 변조해 서버에 요청을 보낼 수 있습니다. 만약 서버가 쿠기를 통해 이용자의 인증 정보를 식별한다면 공격자가 타 이용자를 사칭해 정보를 탈취 할 수 있습니다.

<img src="https://velog.velcdn.com/images/silvergun8291/post/0f2ecf09-d50f-4519-ae35-314dbbd0f041/image.png">


<br>
<br>


## 세션

세션은 인증 정보를 서버에 저장하고 해당 데이터에 접근할 수 있는 키를 만들어 클라이언트에 전달하는 방식으로 작동합니다. 이렇게 하면 클라이언트가 인증 정보를 조작할 수 없습니다. 해당 키를 일반적으로 Session ID라고 합니다.
브라우저는 해당 키를 쿠기에 저장하고 HTTP 요청을 보낼 때 사용합니다. 서버는 요청에 포함된 키에 해당하는 데이터를 가져와 인증 상태를 확인합니다.

<img src="https://velog.velcdn.com/images/silvergun8291/post/2e4af6c8-44d9-42dc-bf58-b16ee81a89b7/image.png">






